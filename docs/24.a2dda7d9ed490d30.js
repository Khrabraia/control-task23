"use strict";(self.webpackChunkcontrol_task22=self.webpackChunkcontrol_task22||[]).push([[24],{3024:(S,a,d)=>{d.r(a),d.d(a,{OrderModule:()=>w});var f=d(6895),_=d(646),l=d(433),u=d(8256),g=d(773);function F(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440. "),u.qZA())}function Z(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. "),u.qZA())}function x(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432. "),u.qZA())}function A(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,Z,2,0,"div",11),u.YNc(2,x,2,0,"div",11),u.qZA()),2&r){const e=u.oxw(2);let t,o;u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("name"))||null==t.errors?null:t.errors.required),u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("name"))||null==o.errors?null:o.errors.pattern)}}function C(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. "),u.qZA())}function h(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432. "),u.qZA())}function T(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,C,2,0,"div",11),u.YNc(2,h,2,0,"div",11),u.qZA()),2&r){const e=u.oxw(2);let t,o;u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("lastName"))||null==t.errors?null:t.errors.required),u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("lastName"))||null==o.errors?null:o.errors.pattern)}}function q(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. "),u.qZA())}function O(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d. "),u.qZA())}function B(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,q,2,0,"div",11),u.YNc(2,O,2,0,"div",11),u.qZA()),2&r){const e=u.oxw(2);let t,o;u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("phone"))||null==t.errors?null:t.errors.required),u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("phone"))||null==o.errors?null:o.errors.pattern)}}function E(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0421\u0442\u0440\u0430\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. "),u.qZA())}function b(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0418\u043d\u0434\u0435\u043a\u0441 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. "),u.qZA())}function I(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441. "),u.qZA())}function N(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,b,2,0,"div",11),u.YNc(2,I,2,0,"div",11),u.qZA()),2&r){const e=u.oxw(2);let t,o;u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("zip"))||null==t.errors?null:t.errors.required),u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("zip"))||null==o.errors?null:o.errors.pattern)}}function y(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. "),u.qZA())}function U(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441. "),u.qZA())}function D(r,n){if(1&r&&(u.TgZ(0,"div",32),u.YNc(1,y,2,0,"div",11),u.YNc(2,U,2,0,"div",11),u.qZA()),2&r){const e=u.oxw(2);let t,o;u.xp6(1),u.Q6J("ngIf",null==(t=e.orderForm.get("address"))||null==t.errors?null:t.errors.required),u.xp6(1),u.Q6J("ngIf",null==(o=e.orderForm.get("address"))||null==o.errors?null:o.errors.pattern)}}function J(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),u.qZA())}function Y(r,n){if(1&r){const e=u.EpF();u.TgZ(0,"section",2)(1,"h2",3),u._uU(2,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA(),u.TgZ(3,"div",4),u._UZ(4,"div",5),u.TgZ(5,"div",6)(6,"form",7)(7,"div",8)(8,"label",9),u._uU(9,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(10,"input",10),u.YNc(11,F,2,0,"div",11),u.qZA(),u.TgZ(12,"div",12)(13,"label",13),u._uU(14,"\u0418\u043c\u044f"),u.qZA(),u._UZ(15,"input",14),u.YNc(16,A,3,2,"div",15),u.qZA(),u.TgZ(17,"div",12)(18,"label",16),u._uU(19,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(20,"input",17),u.YNc(21,T,3,2,"div",15),u.qZA(),u.TgZ(22,"div",18)(23,"label",19),u._uU(24,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(25,"input",20),u.YNc(26,B,3,2,"div",15),u.qZA(),u.TgZ(27,"div",18)(28,"label",21),u._uU(29,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(30,"input",22),u.YNc(31,E,2,0,"div",11),u.qZA(),u.TgZ(32,"div",18)(33,"label",23),u._uU(34,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(35,"input",24),u.YNc(36,N,3,2,"div",15),u.qZA(),u.TgZ(37,"div",8)(38,"label",25),u._uU(39,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(40,"input",26),u.YNc(41,D,3,2,"div",15),u.qZA(),u.TgZ(42,"div",8)(43,"label",27),u._uU(44,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(45,"input",28),u.qZA(),u.TgZ(46,"div",8)(47,"button",29),u.NdJ("click",function(){u.CHM(e);const o=u.oxw();return u.KtG(o.createOrder())}),u._uU(48,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.qZA(),u.YNc(49,J,2,0,"div",30),u.qZA()()(),u._UZ(50,"div",5),u.qZA()()}if(2&r){const e=u.oxw();let t,o,c,s,i,m,p;u.xp6(6),u.Q6J("formGroup",e.orderForm),u.xp6(5),u.Q6J("ngIf",(null==(t=e.orderForm.get("product"))?null:t.invalid)&&((null==(t=e.orderForm.get("product"))?null:t.dirty)||(null==(t=e.orderForm.get("product"))?null:t.touched))&&(null==(t=e.orderForm.get("product"))||null==t.errors?null:t.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==(o=e.orderForm.get("name"))?null:o.invalid)&&((null==(o=e.orderForm.get("name"))?null:o.dirty)||(null==(o=e.orderForm.get("name"))?null:o.touched))),u.xp6(5),u.Q6J("ngIf",(null==(c=e.orderForm.get("lastName"))?null:c.invalid)&&((null==(c=e.orderForm.get("lastName"))?null:c.dirty)||(null==(c=e.orderForm.get("lastName"))?null:c.touched))),u.xp6(5),u.Q6J("ngIf",(null==(s=e.orderForm.get("phone"))?null:s.invalid)&&((null==(s=e.orderForm.get("phone"))?null:s.dirty)||(null==(s=e.orderForm.get("phone"))?null:s.touched))),u.xp6(5),u.Q6J("ngIf",(null==(i=e.orderForm.get("country"))?null:i.invalid)&&((null==(i=e.orderForm.get("country"))?null:i.dirty)||(null==(i=e.orderForm.get("country"))?null:i.touched))&&(null==(i=e.orderForm.get("country"))||null==i.errors?null:i.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==(m=e.orderForm.get("zip"))?null:m.invalid)&&((null==(m=e.orderForm.get("zip"))?null:m.dirty)||(null==(m=e.orderForm.get("zip"))?null:m.touched))),u.xp6(5),u.Q6J("ngIf",(null==(p=e.orderForm.get("address"))?null:p.invalid)&&((null==(p=e.orderForm.get("address"))?null:p.dirty)||(null==(p=e.orderForm.get("address"))?null:p.touched))),u.xp6(8),u.Q6J("ngIf",e.isFail)}}function Q(r,n){1&r&&(u.TgZ(0,"div",34),u._uU(1,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437. \u041c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f!"),u.qZA())}const z=[{path:"",component:(()=>{class r{constructor(e,t,o,c){this.fb=e,this.activatedRoute=t,this.productService=o,this.router=c,this.subscription=null,this.subscriptionOrder=null,this.orderForm=this.fb.group({product:["",l.kI.required],name:["",[l.kI.required,l.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u0451A-Za-z]+$")]],lastName:["",[l.kI.required,l.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u0451A-Za-z]+$")]],phone:["",[l.kI.required,l.kI.pattern("^[+]?[0-9]{11}$")]],country:["",l.kI.required],zip:["",[l.kI.required,l.kI.pattern("^[0-9]{6}$")]],address:["",[l.kI.required,l.kI.pattern("^[A-Za-z\u0410-\u042f\u0401\u0430-\u044f\u04510-9\\s\\-\\/]*$")]],comment:[""]}),this.isSuccess=!1,this.isFail=!1}ngOnInit(){this.subscription=this.activatedRoute.queryParams.subscribe(e=>{e.product?(this.orderForm.patchValue({product:e.product}),this.orderForm.get("product")?.disable()):this.router.navigate(["/"])})}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscriptionOrder?.unsubscribe()}createOrder(){this.orderForm.get("product")?.enable(),this.subscriptionOrder=this.subscriptionOrder=this.productService.createOrder({product:this.orderForm.value.product,name:this.orderForm.value.name,last_name:this.orderForm.value.lastName,phone:this.orderForm.value.phone,country:this.orderForm.value.country,zip:this.orderForm.value.zip,address:this.orderForm.value.address,comment:this.orderForm.value.comment}).subscribe(e=>{e.success&&!e.message?(this.orderForm.reset(),this.isSuccess=!0):this.isFail=!0}),this.orderForm.get("product")?.disable()}}return r.\u0275fac=function(e){return new(e||r)(u.Y36(l.qu),u.Y36(_.gz),u.Y36(g.M),u.Y36(_.F0))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-order"]],decls:2,vars:2,consts:[["class","container mb-5","id","form",4,"ngIf"],["class","text-center fs-3",4,"ngIf"],["id","form",1,"container","mb-5"],[1,"fs-2","fw-bold","my-5","text-center"],[1,"row"],[1,"col-1","col-md-3"],[1,"col-10","col-md-6"],[1,"row","g-4","mt-2",3,"formGroup"],[1,"col-12"],["for","inputProduct",1,"form-label"],["type","text","formControlName","product","id","inputProduct",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"col-12","col-lg-6"],["for","inputName",1,"form-label"],["type","text","formControlName","name","id","inputName",1,"form-control"],["class","w-100",4,"ngIf"],["for","inputSurname",1,"form-label"],["type","text","formControlName","lastName","id","inputSurname",1,"form-control"],[1,"col-12","col-lg-4"],["for","inputTel",1,"form-label"],["type","text","formControlName","phone","id","inputTel",1,"form-control"],["for","inputCountry",1,"form-label"],["type","text","formControlName","country","id","inputCountry",1,"form-control"],["for","inputIndex",1,"form-label"],["type","text","formControlName","zip","id","inputIndex",1,"form-control"],["for","inputAddress",1,"form-label"],["type","text","formControlName","address","id","inputAddress",1,"form-control"],["for","inputComment",1,"form-label"],["type","text","formControlName","comment","id","inputComment",1,"form-control"],[1,"btn","btn-primary","px-5",3,"click"],["class","text-danger",4,"ngIf"],[1,"invalid-feedback"],[1,"w-100"],[1,"text-danger"],[1,"text-center","fs-3"]],template:function(e,t){1&e&&(u.YNc(0,Y,51,9,"section",0),u.YNc(1,Q,2,0,"div",1)),2&e&&(u.Q6J("ngIf",!t.isSuccess),u.xp6(1),u.Q6J("ngIf",t.isSuccess))},dependencies:[f.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),r})()}];let v=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[_.Bz.forChild(z),_.Bz]}),r})();var k=d(4466);let w=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[f.ez,k.m,_.Bz,l.UX,v,v]}),r})()}}]);